{
  "apiInfo": {
    "serviceName": "Activity Manager",
    "serviceUri": "luna://com.palm.activitymanager",
    "category": "system",
    "description": "시스템의 다양한 부분을 모니터링하고, 해당 이벤트가 발생할 때 서비스를 시작합니다. Activity Manager는 시스템에서 작업을 조정하는 역할을 담당하며, 현재 수행 중인 작업과 향후 수행될 예정인 작업을 포함합니다. 제어의 기본 단위는 Activity로, 이메일 계정 동기화나 게임 플레이와 같은 시스템의 특정 작업 항목을 나타냅니다.",
    "version": "1.0",
    "lastUpdated": "2025-01-18",
    "status": "active",
    "webosVersion": "6.x"
  },
  "methods": [
    {
      "name": "adopt",
      "description": "앱이나 서비스가 Activity의 부모로 전환되려는 의지를 등록합니다.",
      "emulatorSupport": true,
      "deprecated": false,
      "parameters": [
        {
          "name": "activityId",
          "required": false,
          "type": "number",
          "description": "Activity ID. activityName과 둘 중 하나는 필수입니다."
        },
        {
          "name": "activityName",
          "required": false,
          "type": "string",
          "description": "Activity 이름. activityId와 둘 중 하나는 필수입니다."
        },
        {
          "name": "wait",
          "required": true,
          "type": "boolean",
          "description": "Activity가 해제될 때까지 대기할지 여부를 결정하는 플래그입니다."
        },
        {
          "name": "subscribe",
          "required": true,
          "type": "boolean",
          "description": "구독 여부를 결정하는 플래그입니다. true: 구독, false: 구독하지 않음 (기본값)",
          "defaultValue": false
        },
        {
          "name": "detailedEvents",
          "required": false,
          "type": "boolean",
          "description": "Activity Manager가 Activity의 요구사항 상태가 변경될 때 update 이벤트를 생성하도록 하는 플래그입니다."
        }
      ],
      "returns": {
        "parameters": [
          {
            "name": "returnValue",
            "type": "boolean",
            "required": true,
            "description": "요청의 성공/실패를 나타내는 플래그입니다. true: 성공, false: 실패"
          },
          {
            "name": "errorCode",
            "type": "number",
            "required": false,
            "description": "메서드가 실패할 경우 오류 코드를 포함합니다. 실패한 경우에만 반환됩니다."
          },
          {
            "name": "errorText",
            "type": "string",
            "required": false,
            "description": "메서드가 실패할 경우 오류 텍스트를 포함합니다. 실패한 경우에만 반환됩니다."
          },
          {
            "name": "adopted",
            "type": "boolean",
            "required": false,
            "description": "Activity가 채택되었는지 여부입니다."
          }
        ]
      },
      "errors": [
        {
          "code": 2,
          "message": "No such file or directory"
        },
        {
          "code": 11,
          "message": "Operation blocked"
        },
        {
          "code": 12,
          "message": "Out of memory"
        },
        {
          "code": 13,
          "message": "Permission denied"
        },
        {
          "code": 17,
          "message": "File already exists"
        },
        {
          "code": 22,
          "message": "Invalid argument"
        },
        {
          "code": 38,
          "message": "Function not implemented"
        },
        {
          "code": -1000,
          "message": "Internal error"
        }
      ],
      "examples": [
        {
          "title": "Activity 채택",
          "code": "var request = webOS.service.request('luna://com.palm.activitymanager', {\n  method: 'adopt',\n  parameters: {\n    activityId: 90,\n    wait: true,\n    subscribe: true\n  },\n  onSuccess: function (inResponse) {\n    console.log('Adopt success:', inResponse.adopted);\n  },\n  onFailure: function (inError) {\n    console.log('Adopt failed:', inError.errorText);\n  }\n});",
          "language": "javascript"
        }
      ]
    },
    {
      "name": "cancel",
      "description": "지정된 Activity를 종료하고 모든 구독자에게 cancel 이벤트를 보냅니다.",
      "emulatorSupport": true,
      "deprecated": false,
      "parameters": [
        {
          "name": "activityId",
          "required": false,
          "type": "number",
          "description": "종료할 Activity의 ID입니다. activityName과 둘 중 하나는 필수입니다."
        },
        {
          "name": "activityName",
          "required": false,
          "type": "string",
          "description": "종료할 Activity의 이름입니다. activityId와 둘 중 하나는 필수입니다."
        }
      ],
      "returns": {
        "parameters": [
          {
            "name": "returnValue",
            "type": "boolean",
            "required": true,
            "description": "요청의 성공/실패를 나타내는 플래그입니다."
          }
        ]
      },
      "errors": [],
      "examples": [
        {
          "title": "Activity 취소",
          "code": "var request = webOS.service.request('luna://com.palm.activitymanager', {\n  method: 'cancel',\n  parameters: {\n    activityId: 90\n  },\n  onSuccess: function (inResponse) {\n    console.log('Cancel success:', inResponse.returnValue);\n  },\n  onFailure: function (inError) {\n    console.log('Cancel failed:', inError.errorText);\n  }\n});",
          "language": "javascript"
        }
      ]
    },
    {
      "name": "complete",
      "description": "Activity의 부모가 이 메서드를 사용하여 Activity를 종료하고 선택적으로 새로운 속성으로 다시 시작할 수 있습니다.",
      "emulatorSupport": true,
      "deprecated": false,
      "parameters": [
        {
          "name": "activityId",
          "required": false,
          "type": "number",
          "description": "완료할 Activity의 ID입니다. activityName과 둘 중 하나는 필수입니다."
        },
        {
          "name": "activityName",
          "required": false,
          "type": "string",
          "description": "완료할 Activity의 이름입니다. activityId와 둘 중 하나는 필수입니다."
        },
        {
          "name": "restart",
          "required": false,
          "type": "boolean",
          "description": "Activity를 다시 시작할지 여부입니다.",
          "defaultValue": false
        }
      ],
      "returns": {
        "parameters": [
          {
            "name": "returnValue",
            "type": "boolean",
            "required": true,
            "description": "요청의 성공/실패를 나타내는 플래그입니다."
          }
        ]
      },
      "errors": [],
      "examples": [
        {
          "title": "Activity 완료",
          "code": "var request = webOS.service.request('luna://com.palm.activitymanager', {\n  method: 'complete',\n  parameters: {\n    activityId: 90,\n    restart: false\n  },\n  onSuccess: function (inResponse) {\n    console.log('Complete success:', inResponse.returnValue);\n  },\n  onFailure: function (inError) {\n    console.log('Complete failed:', inError.errorText);\n  }\n});",
          "language": "javascript"
        }
      ]
    },
    {
      "name": "create",
      "description": "새로운 Activity를 생성하고 해당 ID를 반환합니다.",
      "emulatorSupport": true,
      "deprecated": false,
      "parameters": [
        {
          "name": "activity",
          "required": true,
          "type": "object",
          "description": "생성할 Activity의 정의입니다."
        },
        {
          "name": "start",
          "required": false,
          "type": "boolean",
          "description": "Activity를 즉시 시작할지 여부입니다.",
          "defaultValue": true
        },
        {
          "name": "replace",
          "required": false,
          "type": "boolean",
          "description": "동일한 이름의 기존 Activity를 교체할지 여부입니다.",
          "defaultValue": false
        },
        {
          "name": "subscribe",
          "required": false,
          "type": "boolean",
          "description": "Activity 상태 변경을 구독할지 여부입니다.",
          "defaultValue": false
        }
      ],
      "returns": {
        "parameters": [
          {
            "name": "returnValue",
            "type": "boolean",
            "required": true,
            "description": "요청의 성공/실패를 나타내는 플래그입니다."
          },
          {
            "name": "activityId",
            "type": "number",
            "required": false,
            "description": "생성된 Activity의 ID입니다."
          }
        ]
      },
      "errors": [],
      "examples": [
        {
          "title": "새로운 Activity 생성",
          "code": "var request = webOS.service.request('luna://com.palm.activitymanager', {\n  method: 'create',\n  parameters: {\n    activity: {\n      name: 'myActivity',\n      description: 'My custom activity',\n      type: {\n        foreground: true\n      },\n      callback: {\n        method: 'luna://com.myservice/handleActivity'\n      }\n    },\n    start: true,\n    subscribe: true\n  },\n  onSuccess: function (inResponse) {\n    console.log('Activity created with ID:', inResponse.activityId);\n  },\n  onFailure: function (inError) {\n    console.log('Create failed:', inError.errorText);\n  }\n});",
          "language": "javascript"
        }
      ]
    },
    {
      "name": "release",
      "description": "부모가 Activity를 해제하고 다른 구독자들에게 알릴 수 있도록 합니다.",
      "emulatorSupport": true,
      "deprecated": false,
      "parameters": [
        {
          "name": "activityId",
          "required": false,
          "type": "number",
          "description": "해제할 Activity의 ID입니다. activityName과 둘 중 하나는 필수입니다."
        },
        {
          "name": "activityName",
          "required": false,
          "type": "string",
          "description": "해제할 Activity의 이름입니다. activityId와 둘 중 하나는 필수입니다."
        }
      ],
      "returns": {
        "parameters": [
          {
            "name": "returnValue",
            "type": "boolean",
            "required": true,
            "description": "요청의 성공/실패를 나타내는 플래그입니다."
          }
        ]
      },
      "errors": [],
      "examples": [
        {
          "title": "Activity 해제",
          "code": "var request = webOS.service.request('luna://com.palm.activitymanager', {\n  method: 'release',\n  parameters: {\n    activityId: 90\n  },\n  onSuccess: function (inResponse) {\n    console.log('Release success:', inResponse.returnValue);\n  },\n  onFailure: function (inError) {\n    console.log('Release failed:', inError.errorText);\n  }\n});",
          "language": "javascript"
        }
      ]
    },
    {
      "name": "start",
      "description": "지정된 Activity를 시작하려고 시도합니다.",
      "emulatorSupport": true,
      "deprecated": false,
      "parameters": [
        {
          "name": "activityId",
          "required": false,
          "type": "number",
          "description": "시작할 Activity의 ID입니다. activityName과 둘 중 하나는 필수입니다."
        },
        {
          "name": "activityName",
          "required": false,
          "type": "string",
          "description": "시작할 Activity의 이름입니다. activityId와 둘 중 하나는 필수입니다."
        },
        {
          "name": "subscribe",
          "required": false,
          "type": "boolean",
          "description": "Activity 상태 변경을 구독할지 여부입니다.",
          "defaultValue": false
        }
      ],
      "returns": {
        "parameters": [
          {
            "name": "returnValue",
            "type": "boolean",
            "required": true,
            "description": "요청의 성공/실패를 나타내는 플래그입니다."
          }
        ]
      },
      "errors": [],
      "examples": [
        {
          "title": "Activity 시작",
          "code": "var request = webOS.service.request('luna://com.palm.activitymanager', {\n  method: 'start',\n  parameters: {\n    activityId: 90,\n    subscribe: true\n  },\n  onSuccess: function (inResponse) {\n    console.log('Start success:', inResponse.returnValue);\n  },\n  onFailure: function (inError) {\n    console.log('Start failed:', inError.errorText);\n  }\n});",
          "language": "javascript"
        }
      ]
    },
    {
      "name": "stop",
      "description": "Activity를 중지하고 모든 Activity 구독자에게 stop 이벤트를 보냅니다.",
      "emulatorSupport": true,
      "deprecated": false,
      "parameters": [
        {
          "name": "activityId",
          "required": false,
          "type": "number",
          "description": "중지할 Activity의 ID입니다. activityName과 둘 중 하나는 필수입니다."
        },
        {
          "name": "activityName",
          "required": false,
          "type": "string",
          "description": "중지할 Activity의 이름입니다. activityId와 둘 중 하나는 필수입니다."
        }
      ],
      "returns": {
        "parameters": [
          {
            "name": "returnValue",
            "type": "boolean",
            "required": true,
            "description": "요청의 성공/실패를 나타내는 플래그입니다."
          }
        ]
      },
      "errors": [],
      "examples": [
        {
          "title": "Activity 중지",
          "code": "var request = webOS.service.request('luna://com.palm.activitymanager', {\n  method: 'stop',\n  parameters: {\n    activityId: 90\n  },\n  onSuccess: function (inResponse) {\n    console.log('Stop success:', inResponse.returnValue);\n  },\n  onFailure: function (inError) {\n    console.log('Stop failed:', inError.errorText);\n  }\n});",
          "language": "javascript"
        }
      ]
    }
  ],
  "objects": [
    {
      "name": "Activity",
      "description": "Activity 객체는 시스템에서 특정 작업 항목을 나타냅니다.",
      "properties": [
        {
          "name": "name",
          "type": "string",
          "required": false,
          "description": "Activity의 이름입니다."
        },
        {
          "name": "description",
          "type": "string",
          "required": false,
          "description": "Activity에 대한 설명입니다."
        },
        {
          "name": "type",
          "type": "object",
          "required": false,
          "description": "Activity의 타입 정보입니다."
        },
        {
          "name": "callback",
          "type": "object",
          "required": false,
          "description": "Activity가 시작될 때 호출되는 콜백 정보입니다."
        }
      ]
    }
  ],
  "vscodeExtension": {
    "snippets": [
      {
        "prefix": "webos-activity-adopt",
        "body": [
          "webOS.service.request('luna://com.palm.activitymanager', {",
          "    method: 'adopt',",
          "    parameters: {",
          "        activityId: ${1:activityId},",
          "        wait: ${2:true},",
          "        subscribe: ${3:true}",
          "    },",
          "    onSuccess: function (inResponse) {",
          "        console.log('Adopt success:', inResponse.adopted);",
          "        ${4:// Success handling}",
          "    },",
          "    onFailure: function (inError) {",
          "        console.log('Adopt failed:', inError.errorText);",
          "        ${5:// Error handling}",
          "    }",
          "});"
        ],
        "description": "Activity Manager의 adopt 메서드 호출",
        "scope": "javascript"
      },
      {
        "prefix": "webos-activity-create",
        "body": [
          "webOS.service.request('luna://com.palm.activitymanager', {",
          "    method: 'create',",
          "    parameters: {",
          "        activity: {",
          "            name: '${1:activityName}',",
          "            description: '${2:Activity description}',",
          "            type: {",
          "                ${3:foreground: true}",
          "            },",
          "            callback: {",
          "                method: '${4:luna://service/method}'",
          "            }",
          "        },",
          "        start: ${5:true},",
          "        subscribe: ${6:true}",
          "    },",
          "    onSuccess: function (inResponse) {",
          "        console.log('Activity created with ID:', inResponse.activityId);",
          "        ${7:// Success handling}",
          "    },",
          "    onFailure: function (inError) {",
          "        console.log('Create failed:', inError.errorText);",
          "        ${8:// Error handling}",
          "    }",
          "});"
        ],
        "description": "Activity Manager의 create 메서드 호출",
        "scope": "javascript"
      }
    ],
    "completionItems": [
      {
        "label": "adopt",
        "kind": "Method",
        "documentation": "앱이나 서비스가 Activity의 부모로 전환되려는 의지를 등록합니다.",
        "insertText": "adopt",
        "detail": "Activity Manager"
      },
      {
        "label": "cancel",
        "kind": "Method",
        "documentation": "지정된 Activity를 종료하고 모든 구독자에게 cancel 이벤트를 보냅니다.",
        "insertText": "cancel",
        "detail": "Activity Manager"
      },
      {
        "label": "complete",
        "kind": "Method",
        "documentation": "Activity를 완료하고 선택적으로 다시 시작합니다.",
        "insertText": "complete",
        "detail": "Activity Manager"
      },
      {
        "label": "create",
        "kind": "Method",
        "documentation": "새로운 Activity를 생성하고 해당 ID를 반환합니다.",
        "insertText": "create",
        "detail": "Activity Manager"
      },
      {
        "label": "release",
        "kind": "Method",
        "documentation": "부모가 Activity를 해제하고 다른 구독자들에게 알립니다.",
        "insertText": "release",
        "detail": "Activity Manager"
      },
      {
        "label": "start",
        "kind": "Method",
        "documentation": "지정된 Activity를 시작하려고 시도합니다.",
        "insertText": "start",
        "detail": "Activity Manager"
      },
      {
        "label": "stop",
        "kind": "Method",
        "documentation": "Activity를 중지하고 모든 구독자에게 stop 이벤트를 보냅니다.",
        "insertText": "stop",
        "detail": "Activity Manager"
      }
    ],
    "diagnostics": [
      {
        "pattern": "webOS\\.service\\.request\\('luna://com\\.palm\\.activitymanager'",
        "checks": [
          {
            "field": "method",
            "validValues": [
              "adopt",
              "cancel",
              "complete",
              "create",
              "release",
              "start",
              "stop"
            ],
            "required": true,
            "type": "string"
          }
        ]
      }
    ]
  }
}