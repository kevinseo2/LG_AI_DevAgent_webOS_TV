{
  "apiInfo": {
    "serviceName": "Device Unique ID",
    "serviceUri": "luna://com.webos.service.sm",
    "category": "security",
    "description": "webOS TV 디바이스 식별/인증을 위한 API를 제공합니다. webOS 3.0 이상의 플랫폼에서 사용 가능합니다.",
    "version": "3.0",
    "lastUpdated": "2025-01-18"
  },
  "methods": [
    {
      "name": "deviceid/getIDs",
      "description": "webOS TV에서 제공하는 디바이스 ID를 반환합니다. 현재는 LGUDID(LG Unique Device ID)를 지원합니다.\n\nLGUDID는 MAC을 시드로 사용하여 생성되지만, 무작위로 생성된 UUID도 함께 사용합니다. UUID 버전 5 스펙에 따라 생성되며, 네임스페이스 ID 대신 MAC을 이름으로, 무작위 생성된 UUID(버전 4)를 사용합니다.\n\n중요: 이 API를 사용하기 전에 사용자의 개인정보 사용에 대한 동의를 반드시 받아야 합니다.",
      "emulatorSupport": false,
      "deprecated": false,
      "parameters": [
        {
          "name": "idType",
          "required": true,
          "type": "string[]",
          "description": "ID 유형 배열. 현재는 \"LGUDID\"만 허용됩니다.",
          "example": "[\"LGUDID\"]"
        }
      ],
      "returns": {
        "parameters": [
          {
            "name": "returnValue",
            "type": "boolean",
            "required": true,
            "description": "요청의 성공/실패 여부 (true: 성공, false: 실패)"
          },
          {
            "name": "idList",
            "type": "object[]",
            "required": true,
            "description": "디바이스 ID 데이터(idType과 idValue) 배열",
            "properties": [
              {
                "name": "idType",
                "type": "string",
                "required": true,
                "description": "디바이스 ID 유형"
              },
              {
                "name": "idValue",
                "type": "string",
                "required": true,
                "description": "디바이스 ID 값"
              }
            ]
          },
          {
            "name": "errorCode",
            "type": "string",
            "required": false,
            "description": "실패 시 오류 코드"
          },
          {
            "name": "errorText",
            "type": "string",
            "required": false,
            "description": "실패 시 오류 메시지"
          }
        ]
      },
      "errors": [
        {
          "code": "ERR.001",
          "message": "Invalid Parameters",
          "description": "잘못된 매개변수"
        },
        {
          "code": "ERR.002",
          "message": "Security Manager Internal Error",
          "description": "보안 관리자 내부 오류"
        },
        {
          "code": "ERR.801",
          "message": "Unsupported Device ID Type",
          "description": "지원되지 않는 디바이스 ID 유형이 deviceId/getIDs API에 제공됨"
        }
      ],
      "examples": [
        {
          "title": "시스템 ID 정보 가져오기",
          "code": "var request = webOS.service.request('luna://com.webos.service.sm', {\n  method: 'deviceid/getIDs',\n  parameters: {\n    idType: ['LGUDID']\n  },\n  onSuccess: function (inResponse) {\n    console.log('Result: ' + JSON.stringify(inResponse));\n  },\n  onFailure: function (inError) {\n    console.log('Failed to get system ID information');\n    console.log('[' + inError.errorCode + ']: ' + inError.errorText);\n  }\n});",
          "language": "javascript",
          "returns": {
            "success": {
              "returnValue": true,
              "idList": [
                {
                  "idValue": "095f142a-xxxx-ac5d-xxxx-92c8be18xxxx",
                  "idType": "LGUDID"
                }
              ]
            },
            "failure": {
              "returnValue": false,
              "errorCode": "ERR.001",
              "errorText": "Invalid Parameters"
            }
          }
        }
      ]
    }
  ],
  "vscodeExtension": {
    "snippets": [
      {
        "prefix": "webos-deviceid-getids",
        "body": [
          "webOS.service.request('luna://com.webos.service.sm', {",
          "    method: 'deviceid/getIDs',",
          "    parameters: {",
          "        idType: ['LGUDID']",
          "    },",
          "    onSuccess: function (inResponse) {",
          "        console.log('Result: ' + JSON.stringify(inResponse));",
          "        ${1:// Success handling}",
          "    },",
          "    onFailure: function (inError) {",
          "        console.log('Failed to get system ID information');",
          "        console.log('[' + inError.errorCode + ']: ' + inError.errorText);",
          "        ${2:// Error handling}",
          "    }",
          "});"
        ],
        "description": "디바이스 ID 정보 가져오기"
      }
    ],
    "completionItems": [
      {
        "label": "deviceid/getIDs",
        "kind": "Method",
        "documentation": "webOS TV에서 제공하는 디바이스 ID를 반환합니다. 현재는 LGUDID(LG Unique Device ID)를 지원합니다.",
        "insertText": "deviceid/getIDs",
        "detail": "Device Unique ID"
      }
    ],
    "diagnostics": [
      {
        "pattern": "webOS\\.service\\.request\\('luna://com\\.webos\\.service\\.sm'",
        "checks": [
          {
            "field": "method",
            "validValues": ["deviceid/getIDs"],
            "required": true,
            "type": "string"
          },
          {
            "field": "parameters.idType",
            "required": true,
            "type": "array"
          }
        ]
      }
    ]
  }
}